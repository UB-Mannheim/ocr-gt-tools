// vim: sw=2 ts=2 noet ft=jade :
doctype html
html(lang='de')
	head
		script(src='vendor.js')
		link(href='vendor.css', rel='stylesheet')
		script(src='ocr-gt-tools.js')
		link(rel='shortcut icon', type='image/x-icon', href='favicon.ico')
		link(href='ocr-gt-tools.css', rel='stylesheet')
	body

		//
		// Page info on the right
		//
		script#tpl-page(type='text/x-handlebars-template')
			.panel.panel-info
				.panel-heading.clearfix
					h4.panel-title Seiten-Info
				.list-group
					a.list-group-item(target="_blank", href="{{ hiresUrl }}")
						img(src="{{ imageUrl }}")
					a#download-comments.list-group-item(target="_blank", href="{{ commentsUrl }}")
						i.fa.fa-download
						| Anmerkungen
					a#open-work.list-group-item(target="_blank", href="http://digi.bib.uni-mannheim.de/en/suchergebnis/?tx_dlf[query]={{ pathId }}")
						i.fa.fa-download
						| Werk in Digitaler Bibliothek
					a#download-correction.list-group-item(target="_blank", href="{{ correctionUrl }}")
						i.fa.fa-download
						| Korrektur
			.panel.panel-default
				.panel-heading.clearfix
					h4.panel-title Seiten-Kommentar
				.page-comment
					div(contenteditable) {{ pageComment }}

		//
		// A cheatsheet entry
		//
		script#tpl-cheatsheetEntry(type='text/x-handlebars-template')
			tr
				td 
					a(target="_blank", href="https://github.com/UB-Mannheim/ocr-gt-tools/wiki/Special-Characters\#{{ id }}")
						| {{ name.de }}
				td {{{ sample }}}
				td
					button.code(data-clipboard-text="{{ recognition }}")
						| {{ recognition }}

		//
		// A line of page
		//
		script#tpl-line(type='text/x-handlebars-template')
			.row.line(id="line-{{ id }}")

				.col-sm-1.button-col(data-target="#line-comment-{{ id }}")
					.btn-group.btn-group-sm(role='group')
						.btn-group(role='group')
							a.btn.btn-default.show-line-comment(data-target="#line-comment-{{ id }}")
								i.fa.fa-commenting-o
							a.btn.btn-default.hide-line-comment.hidden(data-target="#line-comment-{{ id }}")
								i.fa.fa-map-o
						.btn-group(role='group')
							button.btn.btn-default.dropdown-toggle(data-toggle="dropdown", type='button', aria-haspopup="true", aria-expanded="false", tabindex="-1")
								i.fa.fa-exclamation
								span.caret
							ul.dropdown-menu
								li
									a.btn.btn-default.add-comment(data-target="#line-comment-{{ id }}", data-tag="text-italic")
										i.fa.fa-italic
										| Kursiv
								li
									a.btn.btn-warning.add-comment(data-target="#line-comment-{{ id }}", data-tag="wrong-image-section")
										i.fa.fa-exclamation-circle
										| Fehler in Vorlage

				.col-sm-1.select-col.hidden(data-target="#line-comment-{{ id }}")
					input(type="checkbox")

				.col-sm-11.lines-col
					.panel.panel-default
						ul.list-group
							li.list-group-item.image
								img(src="{{ imgSrc }}", height="30")
							li.list-group-item.transcription
								div(contenteditable) {{ transcription }}
							li.list-group-item.line-comment(id="line-comment-{{ id }}")
								div(contenteditable) {{ comment }}

		//
		// A row of history
		//
		script#tpl-historyItem(type='text/x-handlebars-template')
			tr
				td {{ date }}
				td
					a(href="\#{{ url }}") {{ url }}
				td {{ action }}
				td {{ ip }}

		//
		// Modal popup containing the history
		//
		#history-modal.modal.fade(tabindex="-1")
			.modal-admin
				.modal-content
					.modal-header
						h2.modal-title Verlauf
							button.close(type='button', data-dismiss='modal')
								span &times;
					.modal-body
						table.table
							thead
								tr
									th Date
									th URL
									th Action
									th IP
							tbody

		//
		// Help modal
		//
		#cheatsheet-modal.modal.fade(tabindex"-1")
			.modal-admin
				.modal-content
					.modal-header
						h4.modal-title Eingabe Spickzettel
						button.close(type='button', data-dismiss='modal')
							span &times;
					.modal-body
						table.table.table-condensed
							tbody.cheatsheet

		//
		// Will contain the raw HTML
		//
		#raw-html.hidden

		//
		// Will contain the toolbar for the multi select mode
		//
		#select-bar.hidden
			.panel-heading.clearfix
				.btn-group.pull-right
					a.btn.btn-sm.btn-default.select-all
						i.fa.btn-sm.fa-arrows-alt
						| Alle auswählen
					a.btn.btn-sm.btn-default.select-none
						i.fa.btn-sm.fa-arrows-alt
						| Auswahl aufheben
					a.btn.btn-sm.btn-default.select-toggle
						i.fa.btn-sm.fa-arrows-alt
						| Auswahl umkehren
					a.btn.btn-sm.btn-default.add-multi-comment(data-tag="text-italic")
						i.fa.btn-sm.fa-italic
						| Kursiv
					a.btn.btn-sm.btn-warning.add-multi-comment(data-tag="wrong-image-section")
						i.fa.btn-sm.fa-exclamation-circle
						| Fehler in Vorlage

		//
		// The navbar on the left side
		//
		nav.navbar.navbar-default(role='navigation')

			// Brand and toggle get grouped for better mobile display
			.navbar-header
				button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-ex1-collapse')
					span.sr-only Toggle navigation

			// Collect the nav links, forms, and other content for toggling
			.collapse.navbar-collapse.navbar-ex1-collapse
				ul.nav.navbar-nav
					li
						button#save_button.btn.btn-success.disabled
							span#wait_save.hidden
								i.fa.fa-4x.fa-spinner.fa-pulse.fa-fw
							span#disk
								i.fa.fa-4x.fa-save.fa-fw

					//- Info
					li.dropdown
						a.btn.dropdown-toggle(data-toggle='dropdown')
							i.fa.fa-4x.fa-info-circle
						ul.dropdown-menu.navbar-default
							li
								.btn-group.btn-group-vertical
									a.btn.btn-default(target="_blank", href="https://github.com/UB-Mannheim/ocr-gt-tools/wiki/Error-Tags")
										i.fa.fa-exclamation
										| Fehler-Kategorien
									button.btn.btn-default(data-toggle="modal",data-target="#cheatsheet-modal",data-keyboard="true")
										i.fa.fa-question
										| Spickzettel
									button.btn.btn-default(data-toggle="modal",data-target="#history-modal",data-keyboard="true")
										i.fa.fa-history
										| Verlauf

					//- Zoom
					li.dropdown.disabled
						a.btn.dropdown-toggle(data-toggle='dropdown')
							i.fa.fa-search-plus.fa-4x
						ul.dropdown-menu.navbar-default
							li
								.btn-group.btn-group-vertical
									button#zoom-in.btn.btn-default(type='button')
										i.fa.fa-search-plus
										| Größer
									button#zoom-reset.btn.btn-default(type='button')
										i.fa.fa-search
										| Zurücksetzen
									button#zoom-out.btn.btn-default(type='button')
										i.fa.fa-search-minus
										| Kleiner

					//- Show/hide comments
					li.dropdown.disabled
						a.btn.dropdown-toggle(data-toggle='dropdown')
							i.fa.fa-4x.fa-eye
						ul.dropdown-menu.navbar-default
							li
								.btn-group.btn-group-vertical
									button.set-view.btn.btn-default(type='button', data-target='*')
										i.fa.fa-arrows-alt
										| Vollansicht
									button.set-view.btn.btn-default(type='button', data-target='.transcription,img')
										i.fa.fa-picture-o
										i.fa.fa-align-left
										| Bild + Text
									button.set-view.btn.btn-default(type='button', data-target='.line-comment,img')
										i.fa.fa-picture-o
										i.fa.fa-commenting-o
										| Bild + Kommentar
									button.set-view.btn.btn-default(type='button', data-target='.line-comment,.transcription')
										i.fa.fa-align-left
										i.fa.fa-commenting-o
										| Text + Kommentar
									button.set-view.btn.btn-default(type='button', data-target='img')
										i.fa.fa-picture-o
										| Bild
									button.set-view.btn.btn-default(type='button', data-target='.transcription')
										i.fa.fa-align-left
										| Text
									button.set-view.btn.btn-default(type='button', data-target='.line-comment')
										i.fa.fa-commenting-o
										| Kommentar

					//- Filter
					li.dropdown.disabled
						a.btn.dropdown-toggle(data-toggle='dropdown')
							i.fa.fa-4x.fa-filter
						ul.dropdown-menu.navbar-default
							li
								.btn-group.btn-group-vertical
									button#toggle-select.btn.btn-default
										i.fa.fa-plus-square-o
										| Multi-Select
									button#sort-line.btn.btn-default
										i.fa.fa-sort
										| Normale Sortierung (auf)
									button#sort-line-desc.btn.btn-default
										i.fa.fa-sort
										| Umgekehrte Sortierung (ab)
									button#sort-width.btn.btn-default
										i.fa.fa-sort
										| Nach Breite sortieren (auf)
									button#sort-width-desc.btn.btn-default
										i.fa.fa-sort
										| Nach Breite sortieren (ab)

		//
		//- Here be dragons
		//
		.container-fluid
			.row
				.col-sm-9#root
					#dropzone.jumbotron
						span#wait-load.hidden
							i.fa.fa-spinner.fa-pulse.fa-fw
						| Grafik auf dem Dokument ablegen
						br
						| oder
						br
						| URL angeben:
						br
						div.input-group#load-image
							input.input-lg.form-control(type='text')
							span.input-group-btn
								button.btn.btn-default.btn-lg(type="button") Los!
					#file-correction
				.col-sm-3#page-info
